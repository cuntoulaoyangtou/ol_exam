<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>重置密码</title>
    <!-- 新 Bootstrap4 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>

    <!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js -->
    <script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>

    <!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body>
    <div>
        <form action="/setpwd" method="post">
            <div class="card">
                <div class="card-header">重置密码</div>
                <div class="card-body">
                    <ul class="list-group">
                        <input hidden name="key" type="text" th:attr="value=${key}">
                        <li class="list-group-item">密码：<input id="pwd" type="password" name="pwd"></li>
                        <li class="list-group-item">确认密码：<input id="npwd" type="password"></li>
                    </ul>
                </div>
                <div class="card-footer"><input type="submit" value="提交"></div>
            </div>
        </form>
    </div>
    <script src="http://www.gongjuji.net/Content/files/jquery.md5.js"></script>
<script>
    $(function () {
        $("form").submit(function(e){
            var pwd = $("#pwd").val();
            var npwd = $("#npwd").val();
            if(pwd == npwd){
                var md5 = $.md5(pwd);
                $("#pwd").val(md5);
                return true;
            }else{
                document.getElementById("npwd").setCustomValidity('两次密码不一致');
                return false;
            }
        });
    })
</script>
</body>
</html>